import{d as e,W as t,B as b,c as a,r as n,o as f,a as i,b as d,w as o,e as c,f as l,C as s,g as r,D as u,h as p,t as y,i as m,j as h,v as g,F as w,k,l as v,m as T}from"./vendor.5aedc6d8.js";const x={name:"Loading...",connected:!1,chainId:0,address:"",block:0,connect:function(){var e;this.connected&&(null==(e=window.ethereum)||e.enable())},provider:null};var S=e({name:"Web3",props:{info:{type:Object,required:!0}},setup:e=>{if(window.ethereum){let a=function(e){f(e.chainId)},n=function(t){t&&t.length?e.info.address=t[0]:e.info.address=""},f=function(a){var f,i;e.info.chainId=Number(b.from(a)),e.info.connected=window.ethereum.isConnected(),null==(f=window.provider)||f.off("block"),window.provider=new t(window.ethereum),window.ethereum.request({method:"eth_accounts"}).then(n),null==(i=window.provider)||i.getBlockNumber().then((t=>{var b;e.info.block=t,null==(b=window.provider)||b.on("block",(t=>{e.info.block=t}))}))};window.provider=new t(window.ethereum),window.ethereum.isMetaMask?e.info.name="MetaMask":e.info.name="Other",window.ethereum.autoRefreshOnNetworkChange=!1,window.ethereum.on("accountsChanged",n),window.ethereum.on("chainChanged",f),window.ethereum.on("connect",a),window.ethereum.on("disconnect",(t=>{e.info.connected=!1,e.info.block=0})),e.info.connected=window.ethereum.isConnected(),e.info.connected&&a({chainId:window.ethereum.chainId})}else e.info.name="None";return{}}});S.render=function(e,t,b,i,d,o){return f(),a("div",null,[e.info.connected?e.info.connected&&!e.info.address?n(e.$slots,"connect",{key:1}):n(e.$slots,"default",{key:2}):n(e.$slots,"none",{key:0})])};var M=e({name:"App",components:{Web3:S},setup:()=>({info:i(x)})});const C={style:{"text-align":"center"}},I=l("No web3 provider was found. Please use MetaMask.");M.render=function(e,t,b,n,i,l){const s=c("router-view"),r=c("Web3");return f(),a("div",C,[d(r,{info:e.info},{none:o((()=>[I])),connect:o((()=>[d("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...t)=>e.info.connect&&e.info.connect(...t))},"Connect Metamask")])),default:o((()=>[d(s,{info:e.info},null,8,["info"])])),_:1},8,["info"])])};const D=[];class N extends r{constructor(e){super(B,X,e)}deploy(e){return super.deploy(e||{})}getDeployTransaction(e){return super.getDeployTransaction(e||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static connect(e,t){return new s(e,B,t)}}const B=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_spender",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"calls",type:"bytes[]"},{internalType:"bool",name:"revertOnFail",type:"bool"}],name:"batch",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"blk",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint128",name:"lastPrice",type:"uint128"},{internalType:"uint32",name:"link",type:"uint32"},{internalType:"bytes",name:"pixels",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"canvas",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"blockNumbers",type:"uint256[]"}],name:"getBlocks",outputs:[{components:[{internalType:"uint32",name:"number",type:"uint32"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint128",name:"lastPrice",type:"uint128"},{internalType:"string",name:"url",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"bytes",name:"pixels",type:"bytes"}],internalType:"struct Pixel.ExportBlock[]",name:"blocks",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getCost",outputs:[{internalType:"uint256",name:"cost",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"blockNumbers",type:"uint256[]"}],name:"getCost",outputs:[{internalType:"uint256",name:"cost",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"since",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"getUpdates",outputs:[{internalType:"uint256[]",name:"updatesSince",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"link",outputs:[{internalType:"string",name:"url",type:"string"},{internalType:"string",name:"description",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"mintCanvas",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner_",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permitToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"blockNumbers",type:"uint256[]"},{internalType:"uint32",name:"linkNumber",type:"uint32"},{internalType:"bytes[]",name:"pixels",type:"bytes[]"}],name:"setBlocks",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256[]",name:"blockNumbers",type:"uint256[]"},{internalType:"string",name:"url",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"bytes[]",name:"pixels",type:"bytes[]"}],name:"setBlocks",outputs:[{internalType:"uint32",name:"linkNumber",type:"uint32"}],stateMutability:"payable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"},{internalType:"bool",name:"direct",type:"bool"},{internalType:"bool",name:"renounce",type:"bool"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"updates",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"updatesCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],X="0x60e06040523480156200001157600080fd5b504660a0819052620000238162000102565b60805250600480546001600160a01b031916339081179091556040516000907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a362127500420160c0526040805160608101825260008183018181528252825160208181019094528181528383015260078054600181018255915281518051929360029092027fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c6880192620000de928492019062000158565b506020828101518051620000f9926001850192019062000158565b50505062000213565b60007f47e79534a245952e8b16893a336b85a3d9ea9fa8c573f3d803afb92a7946921882306040516020016200013b93929190620001f4565b604051602081830303815290604052805190602001209050919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200019b57805160ff1916838001178555620001cb565b82800160010185558215620001cb579182015b82811115620001cb578251825591602001919060010190620001ae565b50620001d9929150620001dd565b5090565b5b80821115620001d95760008155600101620001de565b92835260208301919091526001600160a01b0316604082015260600190565b60805160a05160c05161421662000254600039806109ba5280610d395280610fa052806119a852806119ce525080611eaf525080611ee852506142166000f3fe608060405260043610620002175760003560e01c80637b46a39c116200011b578063b4c2f72711620000a3578063d505accf116200006d578063d505accf1462000629578063dd62ed3e146200064e578063e30c39781462000673578063ee687c75146200068b576200021f565b8063b4c2f72714620005af578063b544bf8314620005d4578063c50fcc3614620005ec578063d2423b511462000612576200021f565b806395d89b4111620000e557806395d89b4114620005255780639b8e9b5e146200053d578063a9059cbb1462000555578063b1a867d5146200057a576200021f565b80637b46a39c146200047d5780637c516e9414620004b45780637ecebe0014620004d95780638da5cb5b14620004fe576200021f565b80634adc8a6e116200019f5780635a4dd47d11620001695780635a4dd47d14620003da578063697f92f414620003ff5780636ac1c5a6146200042457806370a082311462000458576200021f565b80634adc8a6e14620003515780634e71e0c8146200036957806351cff8d9146200038157806354328c0e14620003a6576200021f565b806323b872dd11620001e157806323b872dd14620002d657806323f7d4f714620002fb578063313ce56714620003125780633644e5151462000339576200021f565b806306fdde031462000224578063078dfbe71462000254578063095ea7b3146200027b57806318160ddd14620002af576200021f565b366200021f57005b600080fd5b3480156200023157600080fd5b506200023c620006a3565b6040516200024b919062002b45565b60405180910390f35b3480156200026157600080fd5b50620002796200027336600462002428565b620006c4565b005b3480156200028857600080fd5b50620002a06200029a36600462002479565b620007bd565b6040516200024b919062002ac0565b348015620002bc57600080fd5b50620002c76200082a565b6040516200024b919062002acb565b348015620002e357600080fd5b50620002a0620002f53660046200236e565b62000830565b620002796200030c36600462002607565b620009b8565b3480156200031f57600080fd5b506200032a62000d21565b6040516200024b919062002f31565b3480156200034657600080fd5b50620002c762000d26565b3480156200035e57600080fd5b506200027962000d37565b3480156200037657600080fd5b506200027962000e2b565b3480156200038e57600080fd5b5062000279620003a036600462002312565b62000ebc565b348015620003b357600080fd5b50620003cb620003c5366004620024f7565b62001033565b6040516200024b919062002994565b348015620003e757600080fd5b50620002c7620003f9366004620027e5565b62001441565b3480156200040c57600080fd5b50620002c76200041e366004620024f7565b6200148f565b3480156200043157600080fd5b50620004496200044336600462002817565b620014d1565b6040516200024b919062002a7a565b3480156200046557600080fd5b50620002c76200047736600462002312565b6200157e565b3480156200048a57600080fd5b50620004a26200049c366004620027e5565b62001590565b6040516200024b94939291906200293a565b348015620004c157600080fd5b5062000279620004d3366004620026b8565b6200166c565b348015620004e657600080fd5b50620002c7620004f836600462002312565b620016e4565b3480156200050b57600080fd5b5062000516620016f6565b6040516200024b9190620028e5565b3480156200053257600080fd5b506200023c62001705565b3480156200054a57600080fd5b506200051662001726565b3480156200056257600080fd5b50620002a06200057436600462002479565b62001735565b3480156200058757600080fd5b506200059f62000599366004620027e5565b62001832565b6040516200024b92919062002b5a565b348015620005bc57600080fd5b50620002c7620005ce366004620027e5565b62001986565b348015620005e157600080fd5b50620002c7620019a6565b62000603620005fd3660046200253b565b620019ca565b6040516200024b919062002f20565b6200027962000623366004620024a7565b62001b12565b3480156200063657600080fd5b506200027962000648366004620023b3565b62001be4565b3480156200065b57600080fd5b50620002c76200066d36600462002331565b62001d97565b3480156200068057600080fd5b506200051662001db4565b3480156200069857600080fd5b50620002c762001dc3565b60405180604001604052806005815260200164141a5e195b60da1b81525081565b6004546001600160a01b03163314620006fa5760405162461bcd60e51b8152600401620006f19062002d55565b60405180910390fd5b81156200079c576001600160a01b038316151580620007165750805b620007355760405162461bcd60e51b8152600401620006f19062002c22565b6004546040516001600160a01b038086169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3600480546001600160a01b0385166001600160a01b031991821617909155600580549091169055620007b8565b600580546001600160a01b0319166001600160a01b0385161790555b505050565b3360008181526001602090815260408083206001600160a01b038716808552925280832085905551919290917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925906200081890869062002acb565b60405180910390a35060015b92915050565b60035481565b6000811562000961576001600160a01b03841660009081526020819052604090205482811015620008755760405162461bcd60e51b8152600401620006f19062002e82565b836001600160a01b0316856001600160a01b0316146200095f576001600160a01b03851660009081526001602090815260408083203384529091529020546000198114620009095783811015620008e05760405162461bcd60e51b8152600401620006f19062002cf6565b6001600160a01b0386166000908152600160209081526040808320338452909152902084820390555b6001600160a01b038516620009325760405162461bcd60e51b8152600401620006f19062002bf2565b506001600160a01b0380861660009081526020819052604080822086850390559186168152208054840190555b505b826001600160a01b0316846001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051620009a6919062002acb565b60405180910390a35060019392505050565b7f00000000000000000000000000000000000000000000000000000000000000004210620009e557600080fd5b6000620009f386866200148f565b90508034101562000a185760405162461bcd60e51b8152600401620006f19062002c88565b600062000a26823462001dca565b9050801562000ab4576000336001600160a01b03168260405162000a4a90620028e2565b60006040518083038185875af1925050503d806000811462000a89576040519150601f19603f3d011682016040523d82523d6000602084013e62000a8e565b606091505b505090508062000ab25760405162461bcd60e51b8152600401620006f19062002dbf565b505b60005b8681101562000cf757600088888381811062000acf57fe5b9050602002013590506000600882612710811062000ae957fe5b60030201546001600160a01b0316600883612710811062000b0657fe5b6003020160010154604051614e20916001600160801b03169062000b2a90620028e2565b600060405180830381858888f193505050503d806000811462000b6a576040519150601f19603f3d011682016040523d82523d6000602084013e62000b6f565b606091505b50508091505062000b7f62002157565b33815262000b9762000b918462001441565b62001df0565b6001600160801b0316602082015263ffffffff8916604082015287878581811062000bbe57fe5b905060200281019062000bd2919062002f3f565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505050606082015280600884612710811062000c1b57fe5b82516003919091029190910180546001600160a01b039092166001600160a01b0319909216919091178155602080830151600183018054604086015163ffffffff16600160801b0263ffffffff60801b196001600160801b039094166fffffffffffffffffffffffffffffffff1990921691909117929092169190911790556060830151805162000cb392600285019201906200217d565b50506175388054600181810183556000929092527f0cca2c7364c49b86c63a93df6e4e5ef45457e460770dff24eb5a9fa3456ba38901949094555050500162000ab7565b5062000d183362000d128868056bc75e2d6310000062001e20565b62001e5c565b50505050505050565b601281565b600062000d3262001eaa565b905090565b7f000000000000000000000000000000000000000000000000000000000000000042101562000d6557600080fd5b6004546040516000916001600160a01b031690479062000d8590620028e2565b60006040518083038185875af1925050503d806000811462000dc4576040519150601f19603f3d011682016040523d82523d6000602084013e62000dc9565b606091505b5050809150503060405162000dde90620021fe565b62000dea9190620028e5565b604051809103906000f08015801562000e07573d6000803e3d6000fd5b50600680546001600160a01b0319166001600160a01b039290921691909117905550565b6005546001600160a01b031633811462000e595760405162461bcd60e51b8152600401620006f19062002d8a565b6004546040516001600160a01b038084169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3600480546001600160a01b039092166001600160a01b0319928316179055600580549091169055565b6004546001600160a01b0316331462000ee95760405162461bcd60e51b8152600401620006f19062002d55565b6001600160a01b0381161562000f9e57600480546040516370a0823160e01b815262000f98926001600160a01b03928316928516916370a082319162000f3291309101620028e5565b60206040518083038186803b15801562000f4b57600080fd5b505afa15801562000f60573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000f869190620027fe565b6001600160a01b038416919062001f0e565b62001030565b7f000000000000000000000000000000000000000000000000000000000000000042101562001030576004546040516000916001600160a01b031690479062000fe790620028e2565b60006040518083038185875af1925050503d806000811462001026576040519150601f19603f3d011682016040523d82523d6000602084013e6200102b565b606091505b505050505b50565b60608167ffffffffffffffff811180156200104d57600080fd5b506040519080825280602002602001820160405280156200108b57816020015b620010776200220c565b8152602001906001900390816200106d5790505b50905060005b828110156200143a57620010a462002157565b6008858584818110620010b357fe5b905060200201356127108110620010c657fe5b604080516080810182526003929092029290920180546001600160a01b031682526001808201546001600160801b038116602080860191909152600160801b90910463ffffffff16848601526002808401805487516101009582161595909502600019011691909104601f81018390048302840183019096528583529394929360608601939091830182828015620011a25780601f106200117657610100808354040283529160200191620011a2565b820191906000526020600020905b8154815290600101906020018083116200118457829003601f168201915b5050505050815250509050620011b762002240565b6007826040015163ffffffff1681548110620011cf57fe5b60009182526020918290206040805160029384029092018054600181161561010002600019011693909304601f81018590049094028201606090810182529082018481529193849291849190840182828015620012705780601f10620012445761010080835404028352916020019162001270565b820191906000526020600020905b8154815290600101906020018083116200125257829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015620013165780601f10620012ea5761010080835404028352916020019162001316565b820191906000526020600020905b815481529060010190602001808311620012f857829003601f168201915b50505050508152505090506200133f8686858181106200133257fe5b905060200201356200200a565b8484815181106200134c57fe5b602090810291909101015163ffffffff9091169052815184518590859081106200137257fe5b6020026020010151602001906001600160a01b031690816001600160a01b0316815250508160200151848481518110620013a857fe5b6020026020010151604001906001600160801b031690816001600160801b0316815250508060000151848481518110620013de57fe5b6020026020010151606001819052508060200151848481518110620013ff57fe5b60200260200101516080018190525081606001518484815181106200142057fe5b602090810291909101015160a00152505060010162001091565b5092915050565b60008060088361271081106200145357fe5b60030201600101546001600160801b03169050801562001480576200147a81600262001e20565b62001488565b655af3107a40005b9392505050565b6000805b828110156200143a57620014c6620014be858584818110620014b157fe5b9050602002013562001441565b839062002033565b915060010162001493565b6175385460609083900382811115620014e75750815b8067ffffffffffffffff81118015620014ff57600080fd5b506040519080825280602002602001820160405280156200152a578160200160208202803683370190505b50915060005b818110156200157657617538818601815481106200154a57fe5b90600052602060002001548382815181106200156257fe5b602090810291909101015260010162001530565b505092915050565b60006020819052908152604090205481565b60088161271081106200159f57fe5b6003020180546001808301546002808501805460408051602061010097841615979097026000190190921693909304601f81018690048602820186019093528281526001600160a01b0390951696506001600160801b03831695600160801b90930463ffffffff16949293909190830182828015620016625780601f10620016365761010080835404028352916020019162001662565b820191906000526020600020905b8154815290600101906020018083116200164457829003601f168201915b5050505050905084565b60405163d505accf60e01b81526001600160a01b0389169063d505accf90620016a6908a908a908a908a908a908a908a90600401620028f9565b600060405180830381600087803b158015620016c157600080fd5b505af1158015620016d6573d6000803e3d6000fd5b505050505050505050505050565b60026020526000908152604090205481565b6004546001600160a01b031681565b60405180604001604052806005815260200164141256115360da1b81525081565b6006546001600160a01b031681565b6000811515806200174e5750336001600160a01b038416145b15620017ed573360009081526020819052604090205482811015620017875760405162461bcd60e51b8152600401620006f19062002e82565b336001600160a01b03851614620017eb576001600160a01b038416620017c15760405162461bcd60e51b8152600401620006f19062002bf2565b3360009081526020819052604080822085840390556001600160a01b038616825290208054840190555b505b826001600160a01b0316336001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8460405162000818919062002acb565b600781815481106200184057fe5b60009182526020918290206002918202018054604080516001831615610100026000190190921693909304601f810185900485028201850190935282815290935091839190830182828015620018da5780601f10620018ae57610100808354040283529160200191620018da565b820191906000526020600020905b815481529060010190602001808311620018bc57829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156200197c5780601f1062001950576101008083540402835291602001916200197c565b820191906000526020600020905b8154815290600101906020018083116200195e57829003601f168201915b5050505050905082565b61753881815481106200199557fe5b600091825260209091200154905081565b7f000000000000000000000000000000000000000000000000000000000000000081565b60007f00000000000000000000000000000000000000000000000000000000000000004210620019f957600080fd5b62001a0362002240565b87878080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250604080516020601f8801819004810282018101909252868152908790879081908401838280828437600092019190915250505050602082015260075462001a83906200200a565b6007805460018101825560009190915282518051929450839260029092027fa66cc928b5edb82af9bd49922954155ab7b0942694bea4ce44661d9a8736c688019162001ad8918391602091909101906200217d565b50602082810151805162001af392600185019201906200217d565b50505062001b058a8a848787620009b8565b5098975050505050505050565b60005b8281101562001bde57600060603086868581811062001b3057fe5b905060200281019062001b44919062002f3f565b60405162001b549291906200288b565b600060405180830381855af49150503d806000811462001b91576040519150601f19603f3d011682016040523d82523d6000602084013e62001b96565b606091505b50915091508115801562001ba75750835b1562001bd35762001bb88162002059565b60405162461bcd60e51b8152600401620006f1919062002b45565b505060010162001b15565b50505050565b6001600160a01b03871662001c0d5760405162461bcd60e51b8152600401620006f19062002e14565b83421062001c2f5760405162461bcd60e51b8152600401620006f19062002d2d565b6001600160a01b038716600081815260026020908152604091829020805460018181019092559251909262001cb19262001c95927f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9928e928e928e92918e910162002ad4565b60405160208183030381529060405280519060200120620020c5565b8585856040516000815260200160405260405162001cd3949392919062002b27565b6020604051602081039080840390855afa15801562001cf6573d6000803e3d6000fd5b505050602060405103516001600160a01b03161462001d295760405162461bcd60e51b8152600401620006f19062002ee9565b6001600160a01b038088166000818152600160209081526040808320948b168084529490915290819020889055517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259062001d8690899062002acb565b60405180910390a350505050505050565b600160209081526000928352604080842090915290825290205481565b6005546001600160a01b031681565b6175385490565b80820382811115620008245760405162461bcd60e51b8152600401620006f19062002b8c565b60006001600160801b0382111562001e1c5760405162461bcd60e51b8152600401620006f19062002c51565b5090565b600081158062001e3d5750508082028282828162001e3a57fe5b04145b620008245760405162461bcd60e51b8152600401620006f19062002eb2565b6003548082019081101562001e855760405162461bcd60e51b8152600401620006f19062002ded565b6003556001600160a01b03909116600090815260208190526040902080549091019055565b6000467f0000000000000000000000000000000000000000000000000000000000000000811462001ee65762001ee0816200211e565b62001f08565b7f00000000000000000000000000000000000000000000000000000000000000005b91505090565b60006060846001600160a01b031663a9059cbb60e01b858560405160240162001f399291906200297b565b60408051601f198184030181529181526020820180516001600160e01b03166001600160e01b031990941693909317909252905162001f7991906200289b565b6000604051808303816000865af19150503d806000811462001fb8576040519150601f19603f3d011682016040523d82523d6000602084013e62001fbd565b606091505b509150915081801562001feb57508051158062001feb57508080602001905181019062001feb919062002699565b6200102b5760405162461bcd60e51b8152600401620006f19062002bbb565b600063ffffffff82111562001e1c5760405162461bcd60e51b8152600401620006f19062002e4b565b81810181811015620008245760405162461bcd60e51b8152600401620006f19062002cbf565b6060604482511015620020a1575060408051808201909152601d81527f5472616e73616374696f6e2072657665727465642073696c656e746c790000006020820152620020c0565b60048201915081806020019051810190620020bd919062002742565b90505b919050565b600060405180604001604052806002815260200161190160f01b815250620020ec62001eaa565b836040516020016200210193929190620028b9565b604051602081830303815290604052805190602001209050919050565b60007f47e79534a245952e8b16893a336b85a3d9ea9fa8c573f3d803afb92a794692188230604051602001620021019392919062002b08565b604080516080810182526000808252602082018190529181019190915260608082015290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620021c057805160ff1916838001178555620021f0565b82800160010185558215620021f0579182015b82811115620021f0578251825591602001919060010190620021d3565b5062001e1c9291506200225a565b6112058062002fdc83390190565b6040805160c0810182526000808252602082018190529181019190915260608082018190526080820181905260a082015290565b604051806040016040528060608152602001606081525090565b5b8082111562001e1c57600081556001016200225b565b60008083601f84011262002283578182fd5b50813567ffffffffffffffff8111156200229b578182fd5b6020830191508360208083028501011115620022b657600080fd5b9250929050565b60008083601f840112620022cf578182fd5b50813567ffffffffffffffff811115620022e7578182fd5b602083019150836020828501011115620022b657600080fd5b803560ff811681146200082457600080fd5b60006020828403121562002324578081fd5b8135620014888162002fb6565b6000806040838503121562002344578081fd5b8235620023518162002fb6565b91506020830135620023638162002fb6565b809150509250929050565b60008060006060848603121562002383578081fd5b8335620023908162002fb6565b92506020840135620023a28162002fb6565b929592945050506040919091013590565b600080600080600080600060e0888a031215620023ce578283fd5b8735620023db8162002fb6565b96506020880135620023ed8162002fb6565b955060408801359450606088013593506200240c8960808a0162002300565b925060a0880135915060c0880135905092959891949750929550565b6000806000606084860312156200243d578283fd5b83356200244a8162002fb6565b925060208401356200245c8162002fcc565b915060408401356200246e8162002fcc565b809150509250925092565b600080604083850312156200248c578182fd5b8235620024998162002fb6565b946020939093013593505050565b600080600060408486031215620024bc578283fd5b833567ffffffffffffffff811115620024d3578384fd5b620024e18682870162002271565b90945092505060208401356200246e8162002fcc565b600080602083850312156200250a578182fd5b823567ffffffffffffffff81111562002521578283fd5b6200252f8582860162002271565b90969095509350505050565b6000806000806000806000806080898b03121562002557578081fd5b883567ffffffffffffffff808211156200256f578283fd5b6200257d8c838d0162002271565b909a50985060208b013591508082111562002596578283fd5b620025a48c838d01620022bd565b909850965060408b0135915080821115620025bd578283fd5b620025cb8c838d01620022bd565b909650945060608b0135915080821115620025e4578283fd5b50620025f38b828c0162002271565b999c989b5096995094979396929594505050565b6000806000806000606086880312156200261f578283fd5b853567ffffffffffffffff8082111562002637578485fd5b6200264589838a0162002271565b90975095506020880135915063ffffffff8216821462002663578485fd5b9093506040870135908082111562002679578283fd5b50620026888882890162002271565b969995985093965092949392505050565b600060208284031215620026ab578081fd5b8151620014888162002fcc565b600080600080600080600080610100898b031215620026d5578182fd5b8835620026e28162002fb6565b97506020890135620026f48162002fb6565b96506040890135620027068162002fb6565b95506060890135945060808901359350620027258a60a08b0162002300565b925060c0890135915060e089013590509295985092959890939650565b60006020828403121562002754578081fd5b815167ffffffffffffffff808211156200276c578283fd5b818401915084601f83011262002780578283fd5b8151818111156200278f578384fd5b604051601f8201601f191681016020018381118282101715620027b0578586fd5b604052818152838201602001871015620027c8578485fd5b620027db82602083016020870162002f87565b9695505050505050565b600060208284031215620027f7578081fd5b5035919050565b60006020828403121562002810578081fd5b5051919050565b600080604083850312156200282a578182fd5b50508035926020909101359150565b6001600160a01b03169052565b600081518084526200286081602086016020860162002f87565b601f01601f19169290920160200192915050565b6001600160801b03169052565b63ffffffff169052565b6000828483379101908152919050565b60008251620028af81846020870162002f87565b9190910192915050565b60008451620028cd81846020890162002f87565b91909101928352506020820152604001919050565b90565b6001600160a01b0391909116815260200190565b6001600160a01b0397881681529590961660208601526040850193909352606084019190915260ff16608083015260a082015260c081019190915260e00190565b6001600160a01b03851681526001600160801b038416602082015263ffffffff83166040820152608060608201819052600090620027db9083018462002846565b6001600160a01b03929092168252602082015260400190565b60208082528251828201819052600091906040908185019080840286018301878501865b8381101562002a6c57603f19898403018552815160c0620029db85835162002881565b88820151620029ed8a87018262002839565b508782015162002a008987018262002874565b50606080830151828288015262002a1a8388018262002846565b925050506080808301518683038288015262002a37838262002846565b9250505060a0808301519250858203818701525062002a57818362002846565b968901969450505090860190600101620029b8565b509098975050505050505050565b6020808252825182820181905260009190848201906040850190845b8181101562002ab45783518352928401929184019160010162002a96565b50909695505050505050565b901515815260200190565b90815260200190565b9586526001600160a01b0394851660208701529290931660408501526060840152608083019190915260a082015260c00190565b92835260208301919091526001600160a01b0316604082015260600190565b93845260ff9290921660208401526040830152606082015260800190565b60006020825262001488602083018462002846565b60006040825262002b6f604083018562002846565b828103602084015262002b83818562002846565b95945050505050565b602080825260159082015274426f72696e674d6174683a20556e646572666c6f7760581b604082015260600190565b6020808252601c908201527f426f72696e6745524332303a205472616e73666572206661696c656400000000604082015260600190565b60208082526016908201527545524332303a206e6f207a65726f206164647265737360501b604082015260600190565b6020808252601590820152744f776e61626c653a207a65726f206164647265737360581b604082015260600190565b6020808252601c908201527f426f72696e674d6174683a2075696e74313238204f766572666c6f7700000000604082015260600190565b60208082526017908201527f506978656c3a206e6f7420656e6f7567682066756e6473000000000000000000604082015260600190565b60208082526018908201527f426f72696e674d6174683a20416464204f766572666c6f770000000000000000604082015260600190565b60208082526018908201527f45524332303a20616c6c6f77616e636520746f6f206c6f770000000000000000604082015260600190565b6020808252600e908201526d115490cc8c0e88115e1c1a5c995960921b604082015260600190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b6020808252818101527f4f776e61626c653a2063616c6c657220213d2070656e64696e67206f776e6572604082015260600190565b602080825260149082015273141a5e195b0e881c99599d5b990819985a5b195960621b604082015260600190565b6020808252600d908201526c4d696e74206f766572666c6f7760981b604082015260600190565b60208082526018908201527f45524332303a204f776e65722063616e6e6f7420626520300000000000000000604082015260600190565b6020808252601b908201527f426f72696e674d6174683a2075696e743332204f766572666c6f770000000000604082015260600190565b60208082526016908201527545524332303a2062616c616e636520746f6f206c6f7760501b604082015260600190565b60208082526018908201527f426f72696e674d6174683a204d756c204f766572666c6f770000000000000000604082015260600190565b60208082526018908201527f45524332303a20496e76616c6964205369676e61747572650000000000000000604082015260600190565b63ffffffff91909116815260200190565b60ff91909116815260200190565b6000808335601e1984360301811262002f56578283fd5b83018035915067ffffffffffffffff82111562002f71578283fd5b602001915036819003821315620022b657600080fd5b60005b8381101562002fa457818101518382015260200162002f8a565b8381111562001bde5750506000910152565b6001600160a01b03811681146200103057600080fd5b80151581146200103057600080fdfe608060405234801561001057600080fd5b5060405161120538038061120583398101604081905261002f916100cf565b600380546001600160a01b0319166001600160a01b038316908117909155604080516318160ddd60e01b81529051600a92916318160ddd916004808301926020929190829003018186803b15801561008657600080fd5b505afa15801561009a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100be91906100fd565b816100c557fe5b0460025550610115565b6000602082840312156100e0578081fd5b81516001600160a01b03811681146100f6578182fd5b9392505050565b60006020828403121561010e578081fd5b5051919050565b6110e1806101246000396000f3fe6080604052600436106101355760003560e01c806370a08231116100ab578063a22cb4651161006f578063a22cb46514610305578063a6f2ae3a14610325578063b88d4fde1461032d578063c87b56dd14610340578063e534155d14610360578063e985e9c51461037557610135565b806370a08231146102865780638cd295c2146102a6578063937f6e77146102bb57806395d89b41146102db578063a035b1fe146102f057610135565b806319e1fca4116100fd57806319e1fca4146101f657806323b872dd1461020b5780632637588e1461021e578063370158ea1461023e57806342842e0e146102535780636352211e1461026657610135565b806301ffc9a71461013a57806306fdde0314610170578063081812fc14610192578063095ea7b3146101bf57806318160ddd146101d4575b600080fd5b34801561014657600080fd5b5061015a610155366004610d73565b610395565b6040516101679190610e9d565b60405180910390f35b34801561017c57600080fd5b506101856103cc565b6040516101679190610ea8565b34801561019e57600080fd5b506101b26101ad366004610de6565b6103fc565b6040516101679190610e4c565b6101d26101cd366004610d49565b610436565b005b3480156101e057600080fd5b506101e9610477565b6040516101679190611074565b34801561020257600080fd5b506101b261049b565b6101d2610219366004610c66565b6104aa565b34801561022a57600080fd5b5061015a610239366004610c32565b6104ba565b34801561024a57600080fd5b506101856104da565b6101d2610261366004610c66565b610568565b34801561027257600080fd5b506101b2610281366004610de6565b610583565b34801561029257600080fd5b506101e96102a1366004610c10565b6105dc565b3480156102b257600080fd5b506101b261062c565b3480156102c757600080fd5b506101d26102d6366004610dab565b61063b565b3480156102e757600080fd5b5061018561067c565b3480156102fc57600080fd5b506101e961069e565b34801561031157600080fd5b506101d2610320366004610d0e565b6106a4565b6101d26106dc565b6101d261033b366004610ca6565b61083b565b34801561034c57600080fd5b5061018561035b366004610de6565b610907565b34801561036c57600080fd5b506101b2610960565b34801561038157600080fd5b5061015a610390366004610c32565b61096f565b60006001600160e01b031982166301ffc9a760e01b14806103c657506380ac58cd60e01b6001600160e01b03198316145b92915050565b604051806040016040528060148152602001735468652043616e766173206f6620506978656c7360601b81525081565b600081156104255760405162461bcd60e51b815260040161041c90610f74565b60405180910390fd5b50506001546001600160a01b031690565b80156104545760405162461bcd60e51b815260040161041c90610f74565b50600180546001600160a01b0319166001600160a01b0392909216919091179055565b600080546001600160a01b031615610490576001610493565b60005b60ff16905090565b6001546001600160a01b031681565b6104b583838361099d565b505050565b600560209081526000928352604080842090915290825290205460ff1681565b6004805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156105605780601f1061053557610100808354040283529160200191610560565b820191906000526020600020905b81548152906001019060200180831161054357829003601f168201915b505050505081565b6104b58383836040518060200160405280600081525061083b565b600081156105a35760405162461bcd60e51b815260040161041c90610f74565b6000546001600160a01b03166105cb5760405162461bcd60e51b815260040161041c90610fc7565b50506000546001600160a01b031690565b60006001600160a01b0382166106045760405162461bcd60e51b815260040161041c90610f9e565b6000546001600160a01b03838116911614610620576000610623565b60015b60ff1692915050565b6003546001600160a01b031681565b6000546001600160a01b031633146106655760405162461bcd60e51b815260040161041c90610fe9565b8051610678906004906020840190610ae8565b5050565b6040518060400160405280600681526020016543414e56415360d01b81525081565b60025481565b3360009081526005602090815260408083206001600160a01b0395909516835293905291909120805460ff1916911515919091179055565b60025434146106fd5760405162461bcd60e51b815260040161041c9061104c565b600080546002546001600160a01b039091169060969061071e90606e610aab565b8161072557fe5b04614e209060405161073690610e49565b600060405180830381858888f193505050503d8060008114610774576040519150601f19603f3d011682016040523d82523d6000602084013e610779565b606091505b50506003546002549192506001600160a01b03169060969061079c906028610aab565b816107a357fe5b04614e20906040516107b490610e49565b600060405180830381858888f193505050503d80600081146107f2576040519150601f19603f3d011682016040523d82523d6000602084013e6107f7565b606091505b5050809150508061081a5760405162461bcd60e51b815260040161041c90610ee9565b50600080546001600160a01b03199081163317909155600180549091169055565b61084684848461099d565b61084f83610ae2565b1561090157604051630a85bd0160e11b808252906001600160a01b0385169063150b7a0290610888903390899088908890600401610e60565b602060405180830381600087803b1580156108a257600080fd5b505af11580156108b6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108da9190610d8f565b6001600160e01b031916146109015760405162461bcd60e51b815260040161041c90610f20565b50505050565b606081156109275760405162461bcd60e51b815260040161041c90610f74565b505060408051808201909152601d81527f68747470733a2f2f706978656c2e696e632f63616e7661732e6a736f6e000000602082015290565b6000546001600160a01b031681565b6001600160a01b03918216600090815260056020908152604080832093909416825291909152205460ff1690565b80156109bb5760405162461bcd60e51b815260040161041c90610f74565b6000546001600160a01b038481169116146109e85760405162461bcd60e51b815260040161041c90610f4c565b6001600160a01b038316331480610a0c57506001546001600160a01b038481169116145b80610a3e5750600080546001600160a01b039081168252600560209081526040808420928716845291905290205460ff165b610a5a5760405162461bcd60e51b815260040161041c90610ebb565b6001600160a01b038216610a805760405162461bcd60e51b815260040161041c90610f9e565b50600080546001600160a01b039092166001600160a01b031992831617905560018054909116905550565b6000811580610ac657505080820282828281610ac357fe5b04145b6103c65760405162461bcd60e51b815260040161041c90611015565b3b151590565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610b2957805160ff1916838001178555610b56565b82800160010185558215610b56579182015b82811115610b56578251825591602001919060010190610b3b565b50610b62929150610b66565b5090565b5b80821115610b625760008155600101610b67565b80356001600160a01b03811681146103c657600080fd5b600082601f830112610ba2578081fd5b813567ffffffffffffffff80821115610bb9578283fd5b604051601f8301601f191681016020018281118282101715610bd9578485fd5b604052828152925082848301602001861015610bf457600080fd5b8260208601602083013760006020848301015250505092915050565b600060208284031215610c21578081fd5b610c2b8383610b7b565b9392505050565b60008060408385031215610c44578081fd5b610c4e8484610b7b565b9150610c5d8460208501610b7b565b90509250929050565b600080600060608486031215610c7a578081fd5b8335610c858161107d565b92506020840135610c958161107d565b929592945050506040919091013590565b60008060008060808587031215610cbb578081fd5b610cc58686610b7b565b9350610cd48660208701610b7b565b925060408501359150606085013567ffffffffffffffff811115610cf6578182fd5b610d0287828801610b92565b91505092959194509250565b60008060408385031215610d20578182fd5b610d2a8484610b7b565b915060208301358015158114610d3e578182fd5b809150509250929050565b60008060408385031215610d5b578182fd5b610d658484610b7b565b946020939093013593505050565b600060208284031215610d84578081fd5b8135610c2b81611095565b600060208284031215610da0578081fd5b8151610c2b81611095565b600060208284031215610dbc578081fd5b813567ffffffffffffffff811115610dd2578182fd5b610dde84828501610b92565b949350505050565b600060208284031215610df7578081fd5b5035919050565b60008151808452815b81811015610e2357602081850181015186830182015201610e07565b81811115610e345782602083870101525b50601f01601f19169290920160200192915050565b90565b6001600160a01b0391909116815260200190565b6001600160a01b0385811682528416602082015260408101839052608060608201819052600090610e9390830184610dfe565b9695505050505050565b901515815260200190565b600060208252610c2b6020830184610dfe565b602080825260149082015273151c985b9cd9995c881b9bdd08185b1b1bddd95960621b604082015260600190565b60208082526019908201527f46756e64696e6720706978656c20706f6f6c206661696c656400000000000000604082015260600190565b60208082526012908201527157726f6e672072657475726e2076616c756560701b604082015260600190565b6020808252600e908201526d233937b6903737ba1037bbb732b960911b604082015260600190565b60208082526010908201526f125b9d985b1a59081d1bdad95b88125160821b604082015260600190565b6020808252600f908201526e4e6f207a65726f206164647265737360881b604082015260600190565b60208082526008908201526727379037bbb732b960c11b604082015260600190565b60208082526012908201527121b0b73b30b99d103737ba103437b63232b960711b604082015260600190565b60208082526018908201527f426f72696e674d6174683a204d756c204f766572666c6f770000000000000000604082015260600190565b6020808252600e908201526d56616c756520213d20707269636560901b604082015260600190565b90815260200190565b6001600160a01b038116811461109257600080fd5b50565b6001600160e01b03198116811461109257600080fdfea26469706673582212205835ea3ae5826534d6d9b37313f7478df4d67f32ea8b6786672fdb88b01a5c6e64736f6c634300060c0033a264697066735822122018bc6643cba5a4e3a3006e824f126c593088e2c1448f226c6006651b0b311df464736f6c634300060c0033";function P(e){let t=document.createElement("A");return e.startsWith("http:")||e.startsWith("https:")||(e="http://"+e),t.href=e,console.log("Protocol",t.protocol),"http:"==t.protocol||"https:"==t.protocol?t.href:"<invalid URL>"}u.config({precision:36}),u.config({toExpNeg:-1e3}),u.config({toExpPos:1e3}),u.prototype.toInt=function(e){return b.from(this.times(new u("10").pow(e)).todp(0).toString())},b.prototype.toDec=function(e){return new u(this.toString()).dividedBy(new u("10").toPower(e))},b.prototype.print=function(e,t){let b=new u(10).toPower(e),a=new u(this.toString());return a=a.dividedBy(b),a.decimalPlaces()-a.precision(0)>t-4?a.toSignificantDigits(4).toFixed():a.toFixed(t)};var Y=e({name:"Home",props:{info:{type:Object,required:!0}},data:()=>({lockTimeStamp:0,pixelBalance:b.from(0),pixelTotalSupply:b.from(0),blocks:[],updateIndex:0,pixel:"",canvas:null,mouseBelowHalf:!1,mx:-1,my:-1,buying:!1,image:null,selecting:!1,selected:!1,startSelectX:0,startSelectY:0,endSelectX:0,endSelectY:0,blockNumbers:[],pixels:[],cost:0,duplicateBlocks:0,url:"",description:"",now:Date.now()}),async created(){this.pixel="0x81DB9C598b3ebbdC92426422fc0A1d06E77195ec",setInterval((()=>this.now=Date.now()),1e3);let e=localStorage.getItem("data");if(e&&DecompressionStream){let b=[];for(var t=0;t<e.length;t++)b.push(e.charCodeAt(t));const a=new DecompressionStream("gzip"),n=a.writable.getWriter();n.write(Uint8Array.from(b)),n.close();let f=(new TextDecoder).decode(await new Response(a.readable).arrayBuffer()),i=JSON.parse(f);this.blocks=i.blocks,this.updateIndex=i.updateIndex}if(this.updateIndex<0&&(this.blocks=D,this.updateIndex=0),!this.blocks.length)for(let b=0;b<1e4;b++)this.blocks.push({owner:"",lastPrice:0,url:"",description:"",pixels:""})},computed:{selectionStyle(){let e="position: absolute; pointer-events: none;";return e+=this.selecting||this.selected?"":"display: none;",this.startSelectX<=this.endSelectX?(e+="left: "+10*this.startSelectX+"px;",e+="width: "+10*(this.endSelectX-this.startSelectX+1)+"px;"):(e+="left: "+10*this.endSelectX+"px;",e+="width: "+10*(this.startSelectX-this.endSelectX+1)+"px;"),this.startSelectY<=this.endSelectY?(e+="top: "+10*this.startSelectY+"px;",e+="height: "+10*(this.endSelectY-this.startSelectY+1)+"px;"):(e+="top: "+10*this.endSelectY+"px;",e+="height: "+10*(this.startSelectY-this.endSelectY+1)+"px;"),e},wrongNetwork(){return 80001!=this.info.chainId},tooltip(){return-1!=this.mx&&!this.buying},tooltipBlock(){return this.tooltip&&1e4==this.blocks.length?this.blocks[100*Math.floor(this.my/10)+Math.floor(this.mx/10)]:null},tooltipStyle(){let e="position: absolute; pointer-events: none; margin: 5px; padding: 5px; background-color: grey;";return e+="left: "+this.mx+"px;",e+="top: "+this.my+"px;",e},blockWidth(){return Math.abs(this.endSelectX-this.startSelectX)+1},blockHeight(){return Math.abs(this.endSelectY-this.startSelectY)+1},lockDate(){return this.lockTimeStamp?new Date(1e3*this.lockTimeStamp):null},locked(){return this.now>1e3*this.lockTimeStamp},lockDiff(){return this.lockDate?this.lockDate.getTime()-this.now:0},lockDiffDays(){return Math.floor(this.lockDiff/864e5)},lockDiffHours(){return Math.floor(this.lockDiff/36e5)%24},lockDiffMinutes(){return Math.floor(this.lockDiff/6e4)%60},lockDiffSeconds(){return Math.floor(this.lockDiff/1e3)%60}},watch:{"info.block":async function(){var e,t;console.log("Block",this.info.block);let a=null==(e=this.canvas)?void 0:e.getContext("2d");if(window.provider&&this.info.address&&a){console.log(this.info.address);const e=null==(t=window.provider)?void 0:t.getSigner(this.info.address);let n=N.connect(this.pixel,e);this.lockTimeStamp||(this.pixelBalance=await n.balanceOf(this.info.address),this.pixelTotalSupply=await n.totalSupply(),this.lockTimeStamp=(await n.lockTimestamp()).toNumber(),console.log(this.pixelBalance,this.pixelTotalSupply,this.lockTimeStamp),console.log(await n["getCost(uint256[])"]([1,2,3])));let f=await n.updatesCount();for(;f.toNumber()>this.updateIndex;){console.log("Getting",this.updateIndex,f.toNumber());let e=[...new Set((await n.getUpdates(this.updateIndex,1e3)).map((e=>e.toNumber())))];for(this.updateIndex=f.toNumber()-this.updateIndex>1e3?this.updateIndex+1e3:f.toNumber();e.length;){console.log(e.length,"left"),(await n.getBlocks(e.splice(0,200))).forEach((e=>{if(this.blocks[e.number].owner=e.owner,this.blocks[e.number].lastPrice=e.lastPrice.toDec(18).toNumber(),this.blocks[e.number].url=P(e.url),this.blocks[e.number].description=e.description,this.blocks[e.number].pixels=e.pixels,e.pixels&&a){let t=a.createImageData(10,10);for(let a=0;a<100;a++){let n=e.pixels.substr(2+6*a,2);t.data[4*a]=b.from("0x"+n).toNumber(),n=e.pixels.substr(4+6*a,2),t.data[4*a+1]=b.from("0x"+n).toNumber(),n=e.pixels.substr(6+6*a,2),t.data[4*a+2]=b.from("0x"+n).toNumber(),t.data[4*a+3]=255}a.putImageData(t,e.number%100*10,10*Math.floor(e.number/100))}}))}if(CompressionStream){const e=(new TextEncoder).encode(JSON.stringify({blocks:this.blocks,updateIndex:this.updateIndex})),t=new CompressionStream("gzip"),b=t.writable.getWriter();b.write(e),b.close();let a=await new Response(t.readable).arrayBuffer();localStorage.setItem("data",Array.from(new Uint8Array(a)).map((e=>String.fromCharCode(e))).join(""))}}}}},methods:{async gotoPolygon(){let e=window.ethereum;const t=await e.request({method:"wallet_addEthereumChain",params:[{chainId:"0x13881",chainName:"Mumbai (Polygon Testnet)",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://rpc-mumbai.maticvigil.com/"],blockExplorerUrls:["https://mumbai.polygonscan.com/"]}]}).catch();t&&console.log(t)},async buy(){var e;if(this.image=null,this.selected=!1,this.buying=!1,window.provider){const t=null==(e=window.provider)?void 0:e.getSigner(this.info.address);let b=N.connect(this.pixel,t);for(let e=0;e<=Math.floor((this.blockNumbers.length-1)/25);e++){let t=this.blockNumbers.slice(25*e,25*(e+1)),a=this.pixels.slice(25*e,25*(e+1)),n=await b["getCost(uint256[])"](t);b["setBlocks(uint256[],string,string,bytes[])"](t,this.url,this.description,a,{value:n,gasPrice:0})}}},imageLoad(e){var t;const b=this;console.log("Changed");var a=new FileReader;a.onload=function(e){var t,a;b.image=new Image,b.image.src=null==(t=e.target)?void 0:t.result,b.$refs.preview.src=null==(a=e.target)?void 0:a.result};const n=e.target;(null==(t=n.files)?void 0:t.length)&&a.readAsDataURL(n.files[0])}},mounted(){const e=this;p.exports.nextTick((()=>{var e;this.canvas=document.getElementById("canvas");let t=null==(e=this.canvas)?void 0:e.getContext("2d"),b=Date.now();if(t)for(let a=0;a<1e4;a++){let e=this.blocks[a].pixels;if(e){let b=t.createImageData(10,10);for(let t=0;t<100;t++){let a=parseInt(e.substr(2+6*t,6),16);b.data.set([Math.floor(a/65536),Math.floor(a%65536/256),a%256,255],4*t)}t.putImageData(b,a%100*10,10*Math.floor(a/100))}}console.log(Date.now()-b)}));let t=document.getElementById("selectionArea");t&&(t.onmousedown=function(b){e.image&&!e.selected&&(b.preventDefault(),e.blockNumbers=[],e.pixels=[],e.selected=!1,e.selecting=!0,e.startSelectX=Math.floor((b.pageX-((null==t?void 0:t.offsetLeft)||0))/10),e.startSelectY=Math.floor((b.pageY-((null==t?void 0:t.offsetTop)||0))/10),e.endSelectX=e.startSelectX,e.endSelectY=e.startSelectY)},t.onmousemove=function(b){e.selecting&&(e.endSelectX=Math.floor((b.pageX-((null==t?void 0:t.offsetLeft)||0))/10),e.endSelectY=Math.floor((b.pageY-((null==t?void 0:t.offsetTop)||0))/10)),e.mouseBelowHalf=b.offsetY>500,e.mx=b.offsetX<1e3?b.offsetX:999,e.my=b.offsetY<1e3?b.offsetY:999},t.onmouseleave=function(t){e.selecting=!1,e.mx=-1,e.my=-1},t.onmouseup=async function(t){var b;if(e.selecting&&e.image){e.selecting=!1,t.preventDefault(),e.endSelectX<e.startSelectX&&([e.startSelectX,e.endSelectX]=[e.endSelectX,e.startSelectX]),e.endSelectY<e.startSelectY&&([e.startSelectY,e.endSelectY]=[e.endSelectY,e.startSelectY]);let a=document.createElement("CANVAS");a.width=10*e.blockWidth,a.height=10*e.blockHeight;let n=a.getContext("2d");n.drawImage(e.image,0,0,a.width,a.height),e.duplicateBlocks=0;for(let t=0;t<e.blockWidth;t++)for(let b=0;b<e.blockHeight;b++){let a="0x"+[...n.getImageData(10*t,10*b,10,10).data.filter(((e,t)=>t%4<3))].map((e=>e.toString(16).padStart(2,"0"))).join(""),f=100*(e.startSelectY+b)+e.startSelectX+t;e.blocks[f].pixels!=a||e.blocks[f].owner.toLowerCase()!=e.info.address.toLowerCase()?(e.blockNumbers.push(f),e.pixels.push(a)):(e.url=e.blocks[f].url,e.description=e.blocks[f].description,console.log(e.url,e.blocks[f].url),e.duplicateBlocks++)}if(e.blockNumbers.length){if(e.selected=!0,window.provider){const t=null==(b=window.provider)?void 0:b.getSigner(e.info.address);let a=N.connect(e.pixel,t);e.cost=(await a["getCost(uint256[])"](e.blockNumbers)).div("10000000000000000").toNumber()/100}}else e.buying=!1,e.image=null}},t.onclick=function(t){e.image?t.preventDefault():!e.buying&&e.tooltipBlock&&e.tooltipBlock.url&&window.open(e.tooltipBlock.url,"_blank")})}});const E=d("a",{href:"http://example.com"},"Example",-1),A={style:{width:"1000px",margin:"auto"}},L=d("td",{style:{"text-align":"left"}},[d("img",{alt:"Pixel Inc Logo",src:"assets/pixelInc.9b776a33.png",height:"100"})],-1),O=d("br",null,null,-1),U=d("br",null,null,-1),W={key:0},_=l(" Network not connected"),H=d("br",null,null,-1),R={key:1},F=l(" Wrong network "),j=d("br",null,null,-1),q=d("br",null,null,-1),z={id:"selectionArea",style:{position:"relative",width:"1000px",height:"1000px","background-color":"white","margin-left":"auto","margin-right":"auto"}},V=d("canvas",{id:"canvas",width:"1000",height:"1000"},null,-1),$={key:0},J=d("br",null,null,-1),G={key:1},K=d("br",null,null,-1),Q={key:1,class:"window",style:{position:"absolute",top:"50%",left:"50%","margin-right":"-50%",transform:"translate(-50%, -50%)"}},Z={class:"title-bar"},ee=d("div",{class:"title-bar-text"},"Claim your piece of the canvas, get some PIXELs",-1),te={class:"title-bar-controls"},be={class:"window-body"},ae=d("h4",null,"Step 1. Upload an image",-1),ne=d("p",null,"Select the image you would like to draw onto the canvas. For the best results, prepare an image at the correct size. 10x10, 20x20, 30x60, etc.",-1),fe={class:"title-bar"},ie=d("div",{class:"title-bar-text"},"Claim your piece of the canvas, get some PIXELs",-1),de={class:"title-bar-controls"},oe=d("div",{class:"window-body"},[d("h4",null,"Step 2. Select the area you like"),d("p",null,"Use your mouse to click and drag the area where you would like the image to go.")],-1),ce={key:3,class:"window",style:{position:"absolute",top:"50%",left:"50%","margin-right":"-50%",transform:"translate(-50%, -50%)"}},le={class:"title-bar"},se=d("div",{class:"title-bar-text"},"Claim your piece of the canvas, get some PIXELs",-1),re={class:"title-bar-controls"},ue={class:"window-body"},pe=d("h4",null,"Step 3. Purchase",-1),ye=d("br",null,null,-1),me=d("br",null,null,-1),he={key:0},ge=d("br",null,null,-1),we={class:"field-row-stacked",style:{width:"100%"}},ke=d("label",{for:"url"},"URL",-1),ve={class:"field-row-stacked",style:{width:"100%"}},Te=d("label",{for:"description"},"Description",-1),xe=d("br",null,null,-1),Se={style:{width:"1000px",margin:"auto"}},Me={style:{"text-align":"left"}},Ce=d("button",null,"The PIXEL token",-1),Ie=d("button",null,"The CANVAS NFT",-1),De=d("td",{style:{"text-align":"left"}},null,-1),Ne=d("td",null,null,-1),Be=d("img",{src:"assets/catsheepnow.a99a2054.gif",height:"80"},null,-1),Xe=d("a",{href:"https://www.webfreecounter.com/",target:"_blank"},[d("img",{src:"https://www.webfreecounter.com/hit.php?id=grofcnc&nd=6&style=11",border:"0",alt:"visitor counter"})],-1),Pe=d("hr",null,null,-1),Ye=d("img",{src:"assets/underconstruction.67c7f2ed.gif"},null,-1);Y.render=function(e,t,b,n,i,o){var c,s,r,u;return f(),a(w,null,[E,d("table",A,[d("tr",null,[L,d("td",null,[l(" Ends in: "+y(e.lockDiffDays)+" days "+y(e.lockDiffHours)+":"+y(e.lockDiffMinutes)+":"+y(e.lockDiffSeconds),1),O,l(" Address: "+y(e.info.address),1),U,0==e.info.chainId?(f(),a("span",W,[_,H])):e.wrongNetwork?(f(),a("span",R,[F,d("button",{onClick:t[1]||(t[1]=(...t)=>e.gotoPolygon&&e.gotoPolygon(...t))},"Switch to Mumbai"),j])):m("",!0),l(" "+y(e.pixelBalance.print(18,2))+" PIXELs of "+y(e.pixelTotalSupply.print(18,2)),1),q])])]),d("div",z,[V,e.tooltip?(f(),a("div",{key:0,ref:"tooltip",style:e.tooltipStyle},[(null==(c=e.tooltipBlock)?void 0:c.owner)?(f(),a("span",$,[l(y(null==(s=e.tooltipBlock)?void 0:s.description),1),J,l(" "+y(null==(r=e.tooltipBlock)?void 0:r.url),1)])):(f(),a("span",G," Unowned ")),K,l(" Price is "+y(2*((null==(u=e.tooltipBlock)?void 0:u.lastPrice)||0)||1)+" MATIC per pixel ",1)],4)):m("",!0),d("img",{ref:"preview",style:e.selectionStyle},null,4),e.buying&&!e.image?(f(),a("div",Q,[d("div",Z,[ee,d("div",te,[d("button",{"aria-label":"Close",onClick:t[2]||(t[2]=t=>e.buying=!1)})])]),d("div",be,[ae,ne,d("input",{type:"file",onInput:t[3]||(t[3]=(...t)=>e.imageLoad&&e.imageLoad(...t))},null,32)])])):m("",!0),e.image&&!e.selected?(f(),a("div",{key:2,class:"window",style:"position: absolute; "+(e.mouseBelowHalf?"top":"bottom")+": 10%; left: 50%; margin-right: -50%; transform: translate(-50%, -50%)"},[d("div",fe,[ie,d("div",de,[d("button",{"aria-label":"Close",onClick:t[4]||(t[4]=t=>e.buying=!1)})])]),oe],4)):m("",!0),e.image&&e.selected?(f(),a("div",ce,[d("div",le,[se,d("div",re,[d("button",{"aria-label":"Close",onClick:t[5]||(t[5]=t=>{e.image=null,e.buying=!1,e.selected=!1})})])]),d("div",ue,[pe,d("p",null,[l(" Size: "+y(10*e.blockWidth)+"x"+y(10*e.blockHeight)+" pixels",1),ye,l(" Cost: "+y(e.cost)+" MATIC",1),me,l(" You will receive "+y(100*(e.blockWidth*e.blockHeight-e.duplicateBlocks))+" PIXEL tokens ",1),e.duplicateBlocks?(f(),a("span",he,[ge,l(y(100*e.duplicateBlocks)+" duplicate pixels found, ignored",1)])):m("",!0)]),d("div",we,[ke,h(d("input",{id:"url",type:"url","onUpdate:modelValue":t[6]||(t[6]=t=>e.url=t)},null,512),[[g,e.url]])]),d("div",ve,[Te,h(d("input",{id:"description",type:"text","onUpdate:modelValue":t[7]||(t[7]=t=>e.description=t)},null,512),[[g,e.description]])]),xe,d("button",{onClick:t[8]||(t[8]=(...t)=>e.buy&&e.buy(...t))},"Purchase")])])):m("",!0)]),d("table",Se,[d("tr",null,[d("td",Me,[e.locked?m("",!0):(f(),a("button",{key:0,onClick:t[9]||(t[9]=t=>e.buying=!0)},"Draw PIXELs")),Ce,Ie]),De,Ne])]),Be,Xe,Pe,Ye],64)};const Ee=[{path:"/",component:Y}],Ae=k({history:v(),routes:Ee});let Le=T(M);Le.config.globalProperties.production=!1,Le.config.globalProperties.network=Le.config.globalProperties.production?137:31337,Le.use(Ae).mount("#app");
